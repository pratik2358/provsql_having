\subsection{Homomorphisms}
We have seen that our provenance semantics work for 
the semiring of Boolean functions. In this section we investigate other m-semirings and see if they are homomorphic 
to the semiring of Boolean functions. This will ensure that the provenance sematics, that worked for $B[X]$ can be transferred to 
our target semirings without re-deriving from scratch.


\subsubsection{$\Phi^{\mathrm{T}}_v : B[X] \to T$}
For any valuation $v:X \to T$,  $\exists$ a homomorphism $\Phi^{\mathrm{T}}_v : B[X] \to T$ such that for all $x\in X$, 
$\Phi^{\mathrm{T}}_v(x\mapsto [x]_{B[X]})=v(x)$.

\subsubsection*{Existence(by construction)}
\begin{proof}
Let $\mathsf{Form}(X)$ be the set of well formed Boolean formulas built on the variables in X. There is a canonical surjection 
$q:\mathsf{Form}(X)\rightarrow B[X]$(basically maps each syntactical formula to its equivalence class).

We define $\iota: X \rightarrow \mathsf{Form}(X)$, and thus essentially any Boolean function in $B[X]$ is a composition $q\circ \iota$.

Define a map $\Phi^*:\mathsf{Form}(X)\rightarrow T$ by recursion:
\begin{align*}
&\Phi^*(0_B) := \varnothing,\quad\Phi^*(1_B) := \mathbb{R},\\
&\Phi^*(\iota(x)) := v(x)\quad\text{for }x\in X,\\
\vspace{2cm}
&\text{And for any }\varphi,\psi \in \mathsf{Form}(X):\\
&\Phi^*(\varphi\vee\psi) := \Phi^*(\varphi)\cup\Phi^*(\psi),\\
&\Phi^*(\varphi\wedge\psi) := \Phi^*(\varphi)\cap\Phi^*(\psi),\\
&\Phi^*(\neg\varphi) := \mathbb{R}\setminus\Phi^*(\varphi).\\
&\Phi^*(\phi \setminus_B \psi) = \Phi^*(\phi \wedge \neg \psi) = \Phi^*(\phi)\cap \Phi^*(\neg \psi)
\end{align*}
such that the Boolean connectives are interpreted in $T$ through the set-theoretic operations $\cup, \cap$ and set complement.

$\mathsf{Form}(X)$ being inductively generated, $\Phi^*$ is uniquely defined on all formulae.
  For any two logically equivalent formulae $\phi, \psi \in \mathsf{Form}(X)$, $\Phi^*(\phi)=\Phi^*(\psi)$ in $T$, because every Boolean algebra axiom holds in 
  the Boolean algebra of temporal semiring $T$ via the set-theoretic operations and since
  $\mathsf{ker}(\Phi^*):=\{(\phi,\psi)\in \mathsf{Form}(X)\times \mathsf{Form}(X)|\Phi^*(\phi)=\Phi^*(\psi)\}$ is a Boolean congrunence satisfying the equational theory of Boolean algebra, 
  therefore semantically equal formulae are mapped to equal elements in $T$ by $\Phi^*$.
  Thus for any Boolean formula $\phi\;\exists \Phi_v^T$, such that $\Phi_v^T(q(\phi))=\Phi^*(\phi)$.
  For any generator variable $x \in X$, $\exists\Phi_v^T(x\mapsto [x]_{B[X]})=\Phi_v^T(q(\iota(x)))=\Phi^*(\iota(x))=v(x)$.

\end{proof}

\subsubsection*{Uniqueness}
\begin{proof}
Assume that $\exists\;\Psi_v^T:B[x]\rightarrow T$ such that $\Psi_v^T(x\mapsto [x]_{B[X]})=v(x)\text{ for all }x \in X$.

$B[X]$ is a free Boolean algebra on $x\mapsto [x]_{B[X]}$  and $\alpha \in B[X]$ is image of $q:\mathsf{Form}(X)\rightarrow B[X]$ of some boolean formula $\phi$. 
When it comes to free algebras, homomorphisms are only determined by the values of their generators. 
And by assumption of $\Psi_v^T$ and existence of $\Phi_v^T$, they agreee on $\Phi^*(\iota(x)) \text{ for all } x \in X$. Hence, $\Psi_v^T=\Phi_v^T$.
\end{proof}
\subsubsection*{Axiom A13 of $T$}
For any $t_1,t_2,t_3 \in T$, $t_1 \cap (t_2 \setminus t_3) = (t_1 \cap t_2) \setminus (t_1 \cap t_3)$.\\ (holds)
Now for any $\phi, \psi, \gamma \in B[X]$,
\[
\begin{aligned}
&\Phi_v^T(\phi \wedge (\psi \setminus_B \gamma))\\ 
&= \Phi_v^T(\phi) \cap (\Phi_v^T(\psi) \cap \Phi_v^T(\neg \gamma)) \\
&= \Phi^*(\phi) \cap (\Phi^*(\psi) \cap \Phi^*(\neg \gamma)) \\
&= (\Phi^*(\phi) \cap \Phi^*(\psi)) \cap (\Phi^*(\phi) \cap (]-\infty,+\infty[ \setminus \Phi^*(\gamma))) \\
&= \Phi_v^T(\phi \wedge \psi) \cap \Phi_v^T(\phi \wedge \neg \gamma) \\
&= \Phi_v^T((\phi \wedge \psi) \wedge (\phi \wedge \neg \gamma))
\end{aligned}
\]

\begin{proof}
Let \(\varphi,\psi\in B[X]\). By definition
\[
\Phi_v^T(\varphi\vee\psi)=\Phi_v^T(\varphi)\cup\Phi_v^T(\psi),
\]and
\[
\Phi_v^T(\varphi\wedge\psi)=\Phi_v^T(\varphi)\cap\Phi_v^T(\psi).
\]
Thus \(\Phi_v^T\) commutes with \(\vee\) and \(\wedge\).

\textbf{Preservation of monus.}
By definition \(\Phi_v^T(\neg\varphi)=\mathbb{R}\setminus\Phi_v^T(\varphi)=\neg_T\Phi_v^T(\varphi)\). Hence \(\Phi_v^T\) commutes with complementation.

\end{proof}
\textbf{Equivalence preservation}:\newline
If two Boolean functions $b_1$ and $b_2$ are equivalent, then $\Phi_v^T(b_1) = \Phi_v^T(b_2)$.



\subsubsection{$\Phi_{\mathrm{trop}}: B^X \to T_{\min}$}

We define:
$$
T_{\min} = (\mathbb{R}_{\ge 0} \cup \{\infty\},\min,+,\infty,0,\setminus_T).
$$
\begin{itemize}
    \item Addition: \(\min\)
    \item Multiplication: \(+\)
    \item Zero: \(\infty\)
    \item One: \(0\)
    \item Monus:
    \[
    a \setminus_T b :=
    \begin{cases}
        a & \text{if } a < b \\
        \infty & \text{otherwise}
    \end{cases}
    \]
\end{itemize}



\textbf{Homomorphism}:\newline
Assign each token \(x_i\in X\) a cost \(c(x_i)\in\mathbb{R}_{\ge0}\cup\{\infty\}\). For any valuation \(\nu\), define
$$
w(\nu) = \sum_{x_i:\nu(x_i)=\top} c(x_i).
$$
Then for boolean function  \(\varphi\):
$$
\Phi_{\mathrm{trop}}(\varphi) 
= \min_{\nu:\varphi(\nu)=\top} w(\nu),
$$
with \(\Phi_{\mathrm{trop}}(0_B)=\infty\).
\newline

\textbf{Proof sketch}: \newline
- \(\Phi_{\mathrm{trop}}(\varphi \vee \psi) = \min(\Phi_{\mathrm{trop}}(\varphi), \Phi_{\mathrm{trop}}(\psi))\).  
- \(\Phi_{\mathrm{trop}}(\varphi \wedge \psi) = \Phi_{\mathrm{trop}}(\varphi) + \Phi_{\mathrm{trop}}(\psi)\).  
- Monus: follows. \newline
\textbf{Example}: \newline
Let \(X=\{x_1,x_2\}\), \(c(x_1)=2\), \(c(x_2)=5\).  
- \(\varphi = x_1\): \(\Phi_{\mathrm{trop}}(\varphi)=2\).  
- \(\psi = x_2\): \(\Phi_{\mathrm{trop}}(\psi)=5\).  
- \(\varphi \setminus_B \psi\) true only when \(\nu=(\top,\bot)\), cost \(2\).

It is easy to show that $A13$ and absorptivity are satisfied.


\subsubsection{$\Phi_{\mathrm{sec}}: B^X \to T_{\sec}$}

For each \(x\in X\) , say, there is a clearance level \(\lambda(x)\in \mathcal L\) assigned to it,
with \(\mathcal L\) totally ordered: \(\ell_{\min}\) (least restrictive),
and \(\ell_{\max}\) (most restrictive).

For a valuation \(\nu\):
\[
S(\nu) = \{x\in X \mid \nu(x)=\top\}.
\]
\[
\sec(\nu) =
\begin{cases}
\ell_{\min}, & S(\nu)=\emptyset,\\
\max_{x\in S(\nu)} \lambda(x), & \text{o.w.}
\end{cases}
\]



Then we can define a homomorphism:

\[
\Phi_{\mathrm{sec}}(\varphi)
\;=\;
\min_{\nu:\varphi(\nu)=\top}\;\sec(\nu),
\]
and if \(\varphi\equiv 0\), then
\[
\Phi_{\mathrm{sec}}(0_B) = \ell_{\max}.
\]

This is basically the “minimum clearance level required to get a tuple as a result.”



\textbf{Proof sketch:}
\begin{itemize}
    \item \textbf{Zero and One}  
        \begin{itemize}
            \item \(\Phi_{\mathrm{sec}}(0_B)=\ell_{\max}\) (no world satisfies 0).
            \item \(\Phi_{\mathrm{sec}}(1_B)=\ell_{\min}\) (world with no tokens gives \(\ell_{\min}\)).
        \end{itemize}
    \item \textbf{Addition} (\(\vee \to \min\))  
        \[
            \Phi(\varphi\vee\psi)
            = \min\bigl(\Phi(\varphi),\Phi(\psi)\bigr).
        \]
    \item \textbf{Multiplication} (\(\wedge \to \max\))  
        
        \[
            \Phi(\varphi\wedge\psi)
            = \max\bigl(\Phi(\varphi),\Phi(\psi)\bigr).
        \]
    \item \textbf{Monus} (\(\setminus\))  
        Set of valuations for which  \(\varphi\setminus_B\psi\) holds =  
        \(\{\nu \mid \varphi(\nu)=\top,\;\psi(\nu)=\bot\}\).  
        We can take \(\min\) of their security levels.
        Monus of security semiring?????
        \[
            a\setminus_S b =
            \begin{cases}
                a, & a<b,\\
                \ell_{\max}, &\text{otherwise}.
            \end{cases}
        \]
\end{itemize}

---

 5. Smalll Example

Let \(X=\{x,y\}\) with \(\lambda(x)=\mathrm{Pub}\), \(\lambda(y)=\mathrm{Sec}\),
and ordering \(\mathrm{Pub}<\mathrm{Sec}<\mathrm{Top}\).

- \(\varphi = x\):  
  Worlds: \((1,0)\to\mathrm{Pub}\), \((1,1)\to\mathrm{Sec}\).  
  \(\Phi(x)=\min(\mathrm{Pub},\mathrm{Sec})=\mathrm{Pub}.\)

- \(\psi = y\):  
  Worlds: \((0,1),(1,1)\to\mathrm{Sec}\).  
  \(\Phi(y)=\mathrm{Sec}.\)

- \(\varphi\vee\psi\): worlds \((1,0),(0,1),(1,1)\) → clearances Pub, Sec, Sec → min = Pub.

- \(\varphi\wedge\psi\): only \((1,1)\) → clearance max(Pub, Sec)=Sec.

- \(\varphi\setminus_B\psi\): world \((1,0)\) only → Pub, matching \(\mathrm{Pub}\setminus_S\mathrm{Sec}=\mathrm{Pub}.\)

