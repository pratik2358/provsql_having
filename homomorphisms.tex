\subsection{Homomorphisms}
We have seen that our provenance semantics work for 
the semiring of Boolean functions. In this section we investigate other m-semirings and see if they are homomorphic 
to the semiring of Boolean functions. This will ensure that the provenance sematics, that worked for $B[X]$ can be transferred to 
our target semirings without re-deriving from scratch.


\subsubsection{$\Phi^{\mathrm{T}}_v : B[X] \to T$}
For any valuation $v:X \to T$, let $\Phi^{\mathrm{T}}_v : B[X] \to T$ be a mapping such that for any $b\in B[X]$, 
$\Phi^{\mathrm{T}}_v(b)=v(b)$.

For a variable $b$, $\Phi_v^T(b) = v(b)$.
Without loss of generality, considering a Boolean function in DNF, for a conjuction of variables $m = b_{i_1} \wedge b_{i_2} \wedge \dots \wedge b_{i_k}$,
$$\Phi_v^T(m) = v(b_{i_1}) \cap \dots \cap v(b_{i_k})$$
For a disjunction $p = \bigvee_{i=1}^n m_i$,
$$\Phi_v^T(p) = \bigcup_{i=1}^n \Phi_v^T(m_i)$$
\begin{itemize}
    \item $$\Phi_v^T(0_{B}) = \emptyset$$
    \item $$\Phi_v^T(1_{B}) = ]-\infty, +\infty[$$
    \item $$\Phi_v^T(b_1 \vee b_2) = \Phi_v^T(b_1) \cup \Phi_v^T(b_2) = v(b_1)\cup v(b_2)$$
    \item $$\Phi_v^T(b_1 \wedge b_2) = \Phi_v^T(b_1) \cap \Phi_v^T(b_2) = v(b_1)\cap v(b_2)$$
    \item \item $$\Phi_v^T(b_1 \setminus_B b_2) = \Phi_v^T(b_1 \wedge \neg b_2) = \Phi_v^T(b_1)\cap \Phi_v^T(\neg b_2)\\
    = v(b_1)\cap v(\neg b_2)$$
\end{itemize}

\textbf{Absorptivity of $T$}:\newline
For any $t_1,t_2 \in T$, $t_1 \cap (t_1 \cup t_2) = t_1$ and $t_1 \cup (t_1 \cap t_2) = t_1$.\\
Now for any $b_1,b_2 \in B^X$, $\Phi_v^T(b_1 \wedge (b_1 \lor b_2)) = \Phi_v^T(b_1) \cap (\Phi_v^T(b_1) \cup \Phi_v^T(b_2)) = v(b_1) \cap (v(b_1) \cup v(b_2)) = v(b_1)$, similarly the other one holds.\\
\textbf{Axiom A13 of $T$}:\newline
For any $t_1,t_2,t_3 \in T$, $t_1 \cap (t_2 \setminus t_3) = (t_1 \cap t_2) \setminus (t_1 \cap t_3)$.\\ (holds)
Now for any $b_1, b_2, b_3 \in B^X$,
\[
\begin{aligned}
&\Phi_v^T(b_1 \wedge (b_2 \setminus_B b_3))\\ 
&= \Phi_v^T(b_1) \cap (\Phi_v^T(b_2) \cap \Phi_v^T(\neg b_3)) \\
&= v(b_1) \cap (v(b_2) \cap v(\neg b_3)) \\
&= (v(b_1) \cap v(b_2)) \cap (v(b_1) \cap (]-\infty,+\infty[ \setminus v(b_3))) \\
&= \Phi_v^T(b_1 \wedge b_2) \cap \Phi_v^T(b_1 \wedge \neg b_3) \\
&= \Phi_v^T((b_1 \wedge b_2) \wedge (b_1 \wedge \neg b_3))
\end{aligned}
\]
\textbf{Equivalence preservation}:\newline
If two Boolean functions $b_1$ and $b_2$ are equivalent, then $\Phi_v^T(b_1) = \Phi_v^T(b_2)$.



\subsubsection{$\Phi_{\mathrm{trop}}: B^X \to T_{\min}$}

We define:
$$
T_{\min} = (\mathbb{R}_{\ge 0} \cup \{\infty\},\min,+,\infty,0,\setminus_T).
$$
\begin{itemize}
    \item Addition: \(\min\)
    \item Multiplication: \(+\)
    \item Zero: \(\infty\)
    \item One: \(0\)
    \item Monus:
    \[
    a \setminus_T b :=
    \begin{cases}
        a & \text{if } a < b \\
        \infty & \text{otherwise}
    \end{cases}
    \]
\end{itemize}



\textbf{Homomorphism}:\newline
Assign each token \(x_i\in X\) a cost \(c(x_i)\in\mathbb{R}_{\ge0}\cup\{\infty\}\). For any valuation \(\nu\), define
$$
w(\nu) = \sum_{x_i:\nu(x_i)=\top} c(x_i).
$$
Then for boolean function  \(\varphi\):
$$
\Phi_{\mathrm{trop}}(\varphi) 
= \min_{\nu:\varphi(\nu)=\top} w(\nu),
$$
with \(\Phi_{\mathrm{trop}}(0_B)=\infty\).
\newline

\textbf{Proof sketch}: \newline
- \(\Phi_{\mathrm{trop}}(\varphi \vee \psi) = \min(\Phi_{\mathrm{trop}}(\varphi), \Phi_{\mathrm{trop}}(\psi))\).  
- \(\Phi_{\mathrm{trop}}(\varphi \wedge \psi) = \Phi_{\mathrm{trop}}(\varphi) + \Phi_{\mathrm{trop}}(\psi)\).  
- Monus: follows. \newline
\textbf{Example}: \newline
Let \(X=\{x_1,x_2\}\), \(c(x_1)=2\), \(c(x_2)=5\).  
- \(\varphi = x_1\): \(\Phi_{\mathrm{trop}}(\varphi)=2\).  
- \(\psi = x_2\): \(\Phi_{\mathrm{trop}}(\psi)=5\).  
- \(\varphi \setminus_B \psi\) true only when \(\nu=(\top,\bot)\), cost \(2\).

It is easy to show that $A13$ and absorptivity are satisfied.


\subsubsection{$\Phi_{\mathrm{sec}}: B^X \to T_{\sec}$}

For each \(x\in X\) , say, there is a clearance level \(\lambda(x)\in \mathcal L\) assigned to it,
with \(\mathcal L\) totally ordered: \(\ell_{\min}\) (least restrictive),
and \(\ell_{\max}\) (most restrictive).

For a valuation \(\nu\):
\[
S(\nu) = \{x\in X \mid \nu(x)=\top\}.
\]
\[
\sec(\nu) =
\begin{cases}
\ell_{\min}, & S(\nu)=\emptyset,\\
\max_{x\in S(\nu)} \lambda(x), & \text{o.w.}
\end{cases}
\]



Then we can define a homomorphism:

\[
\Phi_{\mathrm{sec}}(\varphi)
\;=\;
\min_{\nu:\varphi(\nu)=\top}\;\sec(\nu),
\]
and if \(\varphi\equiv 0\), then
\[
\Phi_{\mathrm{sec}}(0_B) = \ell_{\max}.
\]

This is basically the “minimum clearance level required to get a tuple as a result.”



\textbf{Proof sketch:}
\begin{itemize}
    \item \textbf{Zero and One}  
        \begin{itemize}
            \item \(\Phi_{\mathrm{sec}}(0_B)=\ell_{\max}\) (no world satisfies 0).
            \item \(\Phi_{\mathrm{sec}}(1_B)=\ell_{\min}\) (world with no tokens gives \(\ell_{\min}\)).
        \end{itemize}
    \item \textbf{Addition} (\(\vee \to \min\))  
        \[
            \Phi(\varphi\vee\psi)
            = \min\bigl(\Phi(\varphi),\Phi(\psi)\bigr).
        \]
    \item \textbf{Multiplication} (\(\wedge \to \max\))  
        
        \[
            \Phi(\varphi\wedge\psi)
            = \max\bigl(\Phi(\varphi),\Phi(\psi)\bigr).
        \]
    \item \textbf{Monus} (\(\setminus\))  
        Set of valuations for which  \(\varphi\setminus_B\psi\) holds =  
        \(\{\nu \mid \varphi(\nu)=\top,\;\psi(\nu)=\bot\}\).  
        We can take \(\min\) of their security levels.
        Monus of security semiring?????
        \[
            a\setminus_S b =
            \begin{cases}
                a, & a<b,\\
                \ell_{\max}, &\text{otherwise}.
            \end{cases}
        \]
\end{itemize}

---

 5. Smalll Example

Let \(X=\{x,y\}\) with \(\lambda(x)=\mathrm{Pub}\), \(\lambda(y)=\mathrm{Sec}\),
and ordering \(\mathrm{Pub}<\mathrm{Sec}<\mathrm{Top}\).

- \(\varphi = x\):  
  Worlds: \((1,0)\to\mathrm{Pub}\), \((1,1)\to\mathrm{Sec}\).  
  \(\Phi(x)=\min(\mathrm{Pub},\mathrm{Sec})=\mathrm{Pub}.\)

- \(\psi = y\):  
  Worlds: \((0,1),(1,1)\to\mathrm{Sec}\).  
  \(\Phi(y)=\mathrm{Sec}.\)

- \(\varphi\vee\psi\): worlds \((1,0),(0,1),(1,1)\) → clearances Pub, Sec, Sec → min = Pub.

- \(\varphi\wedge\psi\): only \((1,1)\) → clearance max(Pub, Sec)=Sec.

- \(\varphi\setminus_B\psi\): world \((1,0)\) only → Pub, matching \(\mathrm{Pub}\setminus_S\mathrm{Sec}=\mathrm{Pub}.\)

